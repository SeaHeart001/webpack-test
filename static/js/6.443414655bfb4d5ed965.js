webpackJsonp([6],{cGQv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"friendCount",data:function(){return{myDiagram:null}},mounted:function(){this.init()},methods:{init:function(){var e=this;window.goSamples&&goSamples();var t=go.GraphObject.make;this.myDiagram=t(go.Diagram,"myDiagramDiv",{maxSelectionCount:1,validCycle:go.Diagram.CycleDestinationTree,"clickCreatingTool.insertPart":function(e){var t=go.ClickCreatingTool.prototype.insertPart.call(this,e);return null!==t&&(this.diagram.select(t),this.diagram.commandHandler.scrollToPart(t),this.diagram.commandHandler.editTextBlock(t.findObject("NAMETB"))),t},layout:t(go.TreeLayout,{treeStyle:go.TreeLayout.StyleLastParents,arrangement:go.TreeLayout.ArrangementHorizontal,angle:90,layerSpacing:35,alternateAngle:90,alternateLayerSpacing:35,alternateAlignment:go.TreeLayout.AlignmentBus,alternateNodeSpacing:20}),"undoManager.isEnabled":!0}),this.myDiagram.addDiagramListener("Modified",function(t){var a=document.getElementById("SaveButton");a&&(a.disabled=!e.myDiagram.isModified);var n=document.title.indexOf("*");e.myDiagram.isModified?n<0&&(document.title+="*"):n>=0&&(document.title=document.title.substr(0,n))}),this.myDiagram.addDiagramListener("SelectionDeleting",function(t){var a=t.subject.first();if(e.myDiagram.startTransaction("clear boss"),a instanceof go.Node)for(var n=a.findTreeChildrenNodes();n.next();){if(null===(o=n.value.findObject("boss")))return;o.text=""}else if(a instanceof go.Link){var o;if(null===(o=a.toNode.findObject("boss")))return;o.text=""}e.myDiagram.commitTransaction("clear boss")});var a=["#AC193D","#2672EC","#8C0095","#5133AB","#008299","#D24726","#008A00","#094AB2"];this.myDiagram.layout.commitNodes=function(){go.TreeLayout.prototype.commitNodes.call(e.myDiagram.layout),e.myDiagram.layout.network.vertexes.each(function(e){if(e.node){var n=e.level%a.length,o=a[n],i=e.node.findObject("SHAPE");i&&(i.stroke=t(go.Brush,"Linear",{0:o,1:go.Brush.lightenBy(o,.05),start:go.Spot.Left,end:go.Spot.Right}))}})};function n(e,t){return e instanceof go.Node&&(e!==t&&!t.isInTreeOf(e))}this.myDiagram.nodeTemplate=t(go.Node,"Auto",{doubleClick:function(t,a){var n=a.part;if(null!==n){var o=n.data;e.myDiagram.startTransaction("add employee");var i={name:"(姓名)",title:"(圈名)",orgName:"(单位)",level:"(职位)",relation:"(关系)",parent:o.key};e.myDiagram.model.addNodeData(i),e.myDiagram.commitTransaction("add employee")}}},{mouseDragEnter:function(e,t,a){if(n(t.diagram.selection.first(),t)){var o=t.findObject("SHAPE");o&&(o._prevFill=o.fill,o.fill="darkred")}},mouseDragLeave:function(e,t,a){var n=t.findObject("SHAPE");n&&n._prevFill&&(n.fill=n._prevFill)},mouseDrop:function(e,t){var a=t.diagram,o=a.selection.first();if(n(o,t)){var i=o.findTreeParentLink();null!==i?i.fromNode=t:a.toolManager.linkingTool.insertLink(t,t.port,o,o.port)}}},new go.Binding("text","name"),new go.Binding("layerName","isSelected",function(e){return e?"Foreground":""}).ofObject(),t(go.Shape,"Rectangle",{name:"SHAPE",fill:"#333333",stroke:"white",strokeWidth:3.5,portId:"",fromLinkable:!0,toLinkable:!0,cursor:"pointer"}),t(go.Panel,"Horizontal",t(go.Panel,"Table",{margin:new go.Margin(10,10,10,10),defaultAlignment:go.Spot.Left},t(go.TextBlock,{font:"9pt  Segoe UI,sans-serif",stroke:"white"},{row:0,column:0,font:"12pt Segoe UI,sans-serif",editable:!0,isMultiline:!1,margin:new go.Margin(0,0,4,0)},new go.Binding("text","name").makeTwoWay()),t(go.TextBlock,{font:"9pt  Segoe UI,sans-serif",stroke:"white"},{row:0,column:1,editable:!0,isMultiline:!1,margin:new go.Margin(0,0,0,10)},new go.Binding("text","title").makeTwoWay()),t(go.TextBlock,{font:"9pt  Segoe UI,sans-serif",stroke:"white"},{row:1,column:0,editable:!0,isMultiline:!1,margin:new go.Margin(4,0,10,0)},new go.Binding("text","orgName").makeTwoWay()),t(go.TextBlock,{font:"9pt  Segoe UI,sans-serif",stroke:"white"},{row:1,column:1,editable:!0,isMultiline:!1,margin:new go.Margin(4,0,10,10)},new go.Binding("text","level").makeTwoWay()),t(go.TextBlock,"关系 : ",{font:"9pt  Segoe UI,sans-serif",stroke:"white"},{row:2,column:0}),t(go.TextBlock,{font:"9pt  Segoe UI,sans-serif",stroke:"white"},{row:2,column:1,editable:!0,isMultiline:!1},new go.Binding("text","relation").makeTwoWay())))),this.myDiagram.nodeTemplate.contextMenu=t("ContextMenu",t("ContextMenuButton",t(go.TextBlock,"Vacate Position"),{click:function(t,a){var n=a.part.adornedPart;if(null!==n){var o=n.data;e.myDiagram.startTransaction("vacate"),e.myDiagram.model.setDataProperty(o,"name","(姓名)"),e.myDiagram.model.setDataProperty(o,"title","(圈名)"),e.myDiagram.model.setDataProperty(o,"orgName","(单位)"),e.myDiagram.model.setDataProperty(o,"level","(职位)"),e.myDiagram.model.setDataProperty(o,"relation","(关系)"),e.myDiagram.commitTransaction("vacate")}}}),t("ContextMenuButton",t(go.TextBlock,"Remove Role"),{click:function(t,a){var n=a.part.adornedPart;if(null!==n){e.myDiagram.startTransaction("reparent remove");for(var o=n.findTreeChildrenNodes();o.next();){var i=o.value;e.myDiagram.model.setParentKeyForNodeData(i.data,n.findTreeParentNode().data.key)}e.myDiagram.model.removeNodeData(n.data),e.myDiagram.commitTransaction("reparent remove")}}}),t("ContextMenuButton",t(go.TextBlock,"Remove Department"),{click:function(t,a){var n=a.part.adornedPart;null!==n&&(e.myDiagram.startTransaction("remove dept"),e.myDiagram.removeParts(n.findTreeParts()),e.myDiagram.commitTransaction("remove dept"))}})),this.myDiagram.linkTemplate=t(go.Link,go.Link.Orthogonal,{corner:5,relinkableFrom:!0,relinkableTo:!0},t(go.Shape,{strokeWidth:1.5,stroke:"#F5F5F5"})),this.loadGo(),window.Inspector&&(myInspector=new Inspector("myInspector",this.myDiagram,{properties:{key:{readOnly:!0},comments:{}}}))},save:function(){document.getElementById("mySavedModel").value=this.myDiagram.model.toJson(),this.myDiagram.isModified=!1},loadGo:function(){this.myDiagram.model=go.Model.fromJson(document.getElementById("mySavedModel").value);var e=1;this.myDiagram.model.makeUniqueKeyFunction=function(t,a){for(var n=a.key||e;t.findNodeDataForKey(n);)n++;return a.key=e=n,n}}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"sample"}},[a("div",{staticStyle:{"background-color":"#34343C",border:"solid 1px black",height:"570px"},attrs:{id:"myDiagramDiv"}}),e._v(" "),e._m(0),e._v(" "),a("div",[a("div",[a("button",{attrs:{id:"SaveButton"},on:{click:function(t){return e.save()}}},[e._v("Save")]),e._v(" "),a("button",{on:{click:function(t){return e.loadGo()}}},[e._v("Load")])]),e._v(" "),a("textarea",{staticStyle:{width:"100%",height:"270px"},attrs:{id:"mySavedModel"}},[e._v('      { \n        "class": "go.TreeModel",\n        "nodeDataArray": [\n          {"key":1, "name":"庆帝", "title":"主题圈", "orgName":"庆国", "level":"皇帝", "relation": "庆国一哥"},\n          {"key":2, "name":"范闲", "title":"朋友圈", "parent":1, "orgName":"检察院", "level":"提司", "relation": "儿子"},\n          {"key":3, "name":"范思哲", "title":"亲戚圈", "parent":2, "orgName":"林家大院", "level":"搞笑担当", "relation": "傻弟弟"},\n          {"key":4, "name":"范若若", "title":"朋友圈", "parent":1, "orgName":"林家大院", "level":"颜值担当", "relation": "妹妹"},\n          {"key":5, "name":"腾子荆", "title":"朋友圈", "parent":4, "orgName":"检察院", "level":"护卫", "relation": "同事"},\n          {"key":6, "name":"林宛儿", "title":"同事圈", "parent":2, "orgName":"丞相府", "level":"大小姐", "relation": "妻子"}\n        ]\n      }\n    ')])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{attrs:{id:"myInspector"}})])}]};var i=a("VU/8")(n,o,!1,function(e){a("f7ZS")},null,null);t.default=i.exports},f7ZS:function(e,t){}});
//# sourceMappingURL=6.443414655bfb4d5ed965.js.map